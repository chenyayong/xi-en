(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-search-search"],{"0aec":function(t,e,n){"use strict";n.r(e);var i=n("b5fb"),a=n("c1eb");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("9742");var r,s=n("f0c5"),c=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"9477666e",null,!1,i["a"],r);e["default"]=c.exports},"4c58":function(t,e,n){var i=n("60d8");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("e1947030",i,!0,{sourceMap:!1,shadowMode:!1})},"53f7":function(t,e,n){"use strict";n.r(e);var i=n("f4d1"),a=n("d8f0");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("eb6b");var r,s=n("f0c5"),c=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"fdb130f4",null,!1,i["a"],r);e["default"]=c.exports},"60d8":function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/* 配色 */.pop-content[data-v-fdb130f4]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:%?540?%;padding-top:%?36?%;background-color:#fff;border-radius:%?24?%;overflow:hidden}.pop-content .title[data-v-fdb130f4]{font-size:%?32?%;color:#333;line-height:%?48?%;font-weight:700}.pop-content .con[data-v-fdb130f4]{padding:%?36?% %?40?% %?54?%}.pop-content .text[data-v-fdb130f4]{width:%?460?%;font-size:%?26?%;color:#333;line-height:%?40?%;text-align:center}.pop-content .btn-group[data-v-fdb130f4]{width:100%}.pop-content .btn[data-v-fdb130f4]{flex:1;height:%?88?%;line-height:%?88?%;font-size:%?32?%;color:#777}.pop-content .btn[data-v-fdb130f4]:last-child{color:#007aff}',""]),t.exports=e},8e3:function(t,e,n){var i=n("fce7");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("6ef710d2",i,!0,{sourceMap:!1,shadowMode:!1})},"87c2":function(t,e,n){"use strict";var i=n("4ea4");n("c740"),n("a434"),n("498a"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("96cf");var a=i(n("1da1")),o={data:function(){return{keyword:"",hotList:[],historyList:[]}},onLoad:function(t){this.sourcePage=t.sourcePage,this.loadHotKeywords(),this.loadHistory()},methods:{loadHotKeywords:function(){var t=this;return(0,a.default)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$request("search","get");case 2:n=e.sent,t.hotList=n.data;case 4:case"end":return e.stop()}}),e)})))()},loadHistory:function(){var t=this;uni.getStorage({key:"keywordHistoryList",success:function(e){t.historyList=e.data||[]}})},search:function(t){"string"!==typeof t?t=this.keyword:(t=t.trim(),this.keyword=t),t?(this.saveKeyword(),this.$request("search","update",{keyword:t}),"productList"===this.sourcePage?(this.$util.prePage().keyword=t,this.$util.prePage().refreshList(),uni.navigateBack()):this.navTo("/pages/product/list?keyword=".concat(t,"&sourcePage=search"))):this.$util.msg("请输入搜索关键字，如 狗粮")},saveKeyword:function(){var t=this,e=uni.getStorageSync("keywordHistoryList");e||(e=[]);var n=e.findIndex((function(e){return e===t.keyword}));n>-1&&e.splice(n,1),e.unshift(this.keyword),e.length>30&&(e.length=30),this.historyList=e,uni.setStorage({key:"keywordHistoryList",data:e})},delHistory:function(){this.historyList=[],uni.removeStorage({key:"keywordHistoryList"})},clearInput:function(){this.keyword=""}}};e.default=o},"8f0b":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{}},props:{title:String,text:String,cancelText:{type:String,default:"取消"},confirmText:{type:String,default:"确定"}},methods:{confirm:function(){this.$emit("onConfirm"),this.close()},open:function(){this.$refs.popup.open()},close:function(){this.$refs.popup.close()}}};e.default=i},9742:function(t,e,n){"use strict";var i=n("8000"),a=n.n(i);a.a},b5fb:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}));var i={mixModal:n("53f7").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"app column"},[n("v-uni-view",{staticClass:"search-wrap center"},[n("v-uni-view",{staticClass:"input-box row"},[n("v-uni-text",{staticClass:"mix-icon icon-sousuo"}),n("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"请输入搜索关键字",maxlength:"20","confirm-type":"search"},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.search.apply(void 0,arguments)}},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}}),t.keyword?n("v-uni-text",{staticClass:"mix-icon icon-guanbi2",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clearInput.apply(void 0,arguments)}}}):t._e()],1),n("v-uni-view",{staticClass:"search-btn center",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.search.apply(void 0,arguments)}}},[n("v-uni-text",[t._v("搜索")])],1)],1),n("v-uni-view",{staticClass:"content"},[t.historyList.length>0?n("v-uni-view",{staticClass:"s-header row"},[n("v-uni-text",{staticClass:"tit"},[t._v("历史搜索")]),n("v-uni-text",{staticClass:"mix-icon icon-lajitong",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showPopup("mixModal")}}})],1):t._e(),t.historyList.length>0?n("v-uni-view",{staticClass:"list",staticStyle:{"margin-bottom":"20rpx"}},t._l(t.historyList,(function(e,i){return n("v-uni-view",{key:i,staticClass:"item center",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.search(e)}}},[n("v-uni-text",[t._v(t._s(e))])],1)})),1):t._e(),t.hotList.length>0?n("v-uni-view",{staticClass:"s-header row"},[n("v-uni-text",{staticClass:"tit"},[t._v("热门搜索")])],1):t._e(),t.hotList.length>0?n("v-uni-view",{staticClass:"list"},t._l(t.hotList,(function(e,i){return n("v-uni-view",{key:i,staticClass:"item center",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.search(e.name)}}},[n("v-uni-text",[t._v(t._s(e.name))])],1)})),1):t._e()],1),n("mix-modal",{ref:"mixModal",attrs:{text:"您确定要清除搜索历史吗"},on:{onConfirm:function(e){arguments[0]=e=t.$handleEvent(e),t.delHistory.apply(void 0,arguments)}}})],1)},o=[]},c1eb:function(t,e,n){"use strict";n.r(e);var i=n("87c2"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},d8f0:function(t,e,n){"use strict";n.r(e);var i=n("8f0b"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},eb6b:function(t,e,n){"use strict";var i=n("4c58"),a=n.n(i);a.a},f4d1:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}));var i={uniPopup:n("a3c4").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("uni-popup",{ref:"popup"},[n("v-uni-view",{staticClass:"pop-content"},[n("v-uni-text",{staticClass:"title"},[t._v(t._s(t.title))]),n("v-uni-view",{staticClass:"con center"},[n("v-uni-text",{staticClass:"text"},[t._v(t._s(t.text))])],1),n("v-uni-view",{staticClass:"btn-group row b-t"},[n("v-uni-view",{staticClass:"btn center",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.close.apply(void 0,arguments)}}},[n("v-uni-text",[t._v(t._s(t.cancelText))])],1),n("v-uni-view",{staticClass:"btn center b-l",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.confirm.apply(void 0,arguments)}}},[n("v-uni-text",[t._v(t._s(t.confirmText))])],1)],1)],1)],1)},o=[]},fce7:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/* 配色 */.search-wrap[data-v-9477666e]{padding-left:%?24?%;height:%?100?%}.search-wrap .icon-sousuo[data-v-9477666e]{padding:0 %?12?% 0 %?20?%;font-size:%?40?%;color:#999}.search-wrap .input-box[data-v-9477666e]{width:%?604?%;height:%?80?%;border-radius:%?100?%;background:#f5f6f7}.search-wrap .input[data-v-9477666e]{flex:1;font-size:%?30?%;color:#333}.search-wrap .icon-guanbi2[data-v-9477666e]{padding:%?10?% %?20?%;font-size:%?32?%;color:#999}.search-wrap .search-btn[data-v-9477666e]{flex-shrink:0;padding:0 %?24?% 0 %?20?%;font-size:%?32?%;color:#007aff}.content[data-v-9477666e]{flex:1;padding-top:%?24?%;border-radius:%?28?% %?28?% 0 0;background-color:#fff}.s-header[data-v-9477666e]{height:%?80?%;padding:0 %?32?% 0 %?40?%}.s-header .tit[data-v-9477666e]{flex:1;font-size:%?30?%;color:#333;font-weight:700}.s-header .icon-lajitong[data-v-9477666e]{padding:%?10?%;font-size:%?36?%;color:#333}.list[data-v-9477666e]{display:flex;flex-wrap:wrap;padding:%?10?% 0 0 %?36?%}.list .item[data-v-9477666e]{min-width:%?60?%;height:%?58?%;padding:0 %?24?%;margin:0 %?24?% %?24?% 0;border-radius:%?100?%;background-color:#f5f6f7;font-size:%?26?%;color:#666}',""]),t.exports=e}}]);